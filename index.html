<!DOCTYPE html>
<html lang="en">
<head>
    <title>Add to cart</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <header>
        <div class="nav">
            <a href="#"><i class="fa-solid fa-bowl-rice"></i> FOOD DELIGHT</a>
            <a href="add.html"> <i class="fa-solid fa-cart-shopping"></i> </a>
        </div>
    </header>

    <section class="food" >
        <div class="container">
            <div class="row">
                <h2>Discover the Best Food</h2>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <div class="row" id="product" ></div>
        </div>
    </section>
    
</body>

<script type="text/javascript">
    let product=[
        {
            id:"1",
            name:"Plain Dosa",
            price:40,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/97.jpg"
        },
        {
            id:"2",
            name:"Paper Roast",
            price:65,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/98.jpg"
        },
        {
            id:"3",
            name:"Onion Roast",
            price:80,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/99.jpg"
        },
        {
            id:"4",
            name:"Egg parotha",
            price:55,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/100.jpg"
        },
        {
            id:"5",
            name:"Plain omlette",
            price:25,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/101.jpg"
        },
        {
            id:"6",
            name:"Kadai fry",
            price:150,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/102.jpg"
        },
        {
            id:"7",
            name:"Egg veechu",
            price:65,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/103.jpg"
        },
        {
            id:"8",
            name:"Egg Roast",
            price:65,
            qty:1,
            image:"https://www.tutorjoes.in/public/js_program/12_cart/images/104.jpg"
        },
    ];

    const viewproduct = () =>{
        let tbl="";
        product.map((val)=>{
            return (
                tbl += `
                    <div class="col-md-3  ">
                        <div class="card" style="margin:10px; padding:10px">
                              <img src="${val.image}" class="card-img-top" alt="...">
                             <div class="card-body ">
                                 <h5 class="card-title" style="font-size:20px; color:red;">${val.name}</h5>
                                 <p class="card-text" style="font-size:15px ; margin:-5px;">RS. ${val.price}</p>
                                 <div class="d-flex justify-content-end">
                                    <a onclick="addcart(${val.id})" class="btn  " style="background:#2ed573;color:white;font-size:16px; display: inline-block;"><i class="fa-solid fa-cart-shopping"></i></a>
                                </div>

                                
                             </div>
                        </div>
                    </div>

                `
            )
        })
        document.getElementById('product').innerHTML=tbl;
    }
    viewproduct();

    let cart=[];

    const addcart = (id) =>{
    let allcart=JSON.parse(localStorage.getItem('cart')) ? JSON.parse(localStorage.getItem('cart'))  : []
    let single=allcart.find((val)=>{
        return val.id == id;
    })
    if(single){
    alert("Item All Ready Exist...");
    return false;
    }
    if (
    localStorage.getItem("cart") === null ||
    localStorage.getItem("cart") === undefined
  ) {
    product.map(val => {
      if (val.id == id) {
        cart.push(val);
      }
    });
    localStorage.setItem("cart", JSON.stringify(cart));
  } else {
    let old = JSON.parse(localStorage.getItem("cart"));
    product.map(val => {
      if (val.id == id) {
        old.push(val);
      }
    });
    localStorage.setItem("cart", JSON.stringify(old));
  }
  alert("Product Successfully add in cart");
  viewproduct();

}

</script>
</html>